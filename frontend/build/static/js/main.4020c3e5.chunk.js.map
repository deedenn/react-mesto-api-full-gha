{"version":3,"sources":["images/logo.svg","components/NavBar.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/ProtectedRoute.js","components/InfoToolTip.js","components/Login.js","components/Register.js","utils/auth.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","NavBar","_ref","email","onLogout","location","useLocation","React","createElement","className","pathname","Link","to","Fragment","type","onClick","Header","src","logo","alt","Footer","lang","CurrentUserContext","createContext","Card","props","currentUser","useContext","isLiked","card","likes","some","item","_id","isOwn","owner","cardLikeButtonClassName","concat","cardDeleteButtonClassName","key","link","onCardClick","onCardDelete","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","title","btnText","children","onSubmit","ImagePopup","EditProfilePopup","onUpdateUser","_React$useState","useState","_React$useState2","_slicedToArray","setName","_React$useState3","_React$useState4","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","required","onChange","evt","target","value","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","setLink","api","Api","url","headers","_classCallCheck","this","_url","_headers","_createClass","token","Content-Type","authorization","response","ok","json","console","log","Promise","reject","status","localStorage","getItem","fetch","then","_checkResponse","data","method","body","JSON","stringify","Accept","ProtectedRoute","isLoggedIn","Navigate","InfoToolTip","message","isSuccess","text","Login","onLogin","password","formValue","setFormValue","handleChange","_objectSpread","_defineProperty","autoComplete","Register","onRegister","confirmPassword","navigate","useNavigate","_evt$target","replace","auth","Auth","options","res","Error","_this","_getResponseData","_ref2","_this2","_this3","Authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_React$useState5","_React$useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_React$useState7","_React$useState8","isCardPopupOpen","setIsCardPopupOpen","_React$useState9","_React$useState10","selectedCard","setSelectedCard","_React$useState11","_React$useState12","setCurrentUser","_React$useState13","_React$useState14","setCards","_React$useState15","_React$useState16","setIsLoggedIn","_React$useState17","_React$useState18","setEmail","_React$useState19","_React$useState20","infoMessage","setInfoMessage","all","getUserInfo","getInitialCards","userData","initialCards","catch","err","error","closeAllPopups","handleLogin","handleLogout","removeItem","handleShowInfoMessage","jwt","getContent","Provider","Routes","Route","path","element","i","changeLikeCard","newCard","state","c","deleteCard","filter","_ref4","setItem","setToken","_ref3","register","editProfileInfo","changeAvatar","addNewCard","_toConsumableArray","ReactDOM","createRoot","document","getElementById","render","BrowserRouter"],"mappings":"iGAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,uMC2BzBC,MAxBf,SAAeC,GAAsB,IAAnBC,EAAKD,EAALC,MAAOC,EAAQF,EAARE,SACjBC,EAAWC,cAoBjB,OAAOC,IAAAC,cAAA,OAAKC,UAAU,kBAlBM,aAAtBJ,EAASK,SAETH,IAAAC,cAACG,IAAI,CAACC,GAAG,WAAWH,UAAU,gBAAe,sEAGxB,aAAtBJ,EAASK,SAERH,IAAAC,cAACG,IAAI,CAACC,GAAG,WAAWH,UAAU,gBAAe,kCAI7CF,IAAAC,cAAAD,IAAAM,SAAA,KACEN,IAAAC,cAAA,KAAGC,UAAU,iBAAiBN,GAC9BI,IAAAC,cAAA,UAAQM,KAAK,SAASL,UAAU,kBAAkBM,QAASX,GAAU,qCCNhEY,MATf,SAAed,GAAoB,IAAlBC,EAAKD,EAALC,MAAOC,EAAQF,EAARE,SACtB,OACEG,IAAAC,cAAA,UAAQC,UAAU,UAChBF,IAAAC,cAAA,OAAKC,UAAU,eAAeQ,IAAKC,IAAMC,IAAI,qDAC7CZ,IAAAC,cAACP,EAAM,CAACE,MAAOA,EAAOC,SAAUA,MCEvBgB,MARf,WACE,OACEb,IAAAC,cAAA,UAAQC,UAAU,UAChBF,IAAAC,cAAA,KAAGC,UAAU,eAAeY,KAAK,MAAK,4BCH/BC,EAAqBf,IAAMgB,gBCqCzBC,MApCf,SAAcC,GAEZ,IAAMC,EAAcnB,IAAMoB,WAAWL,GAC/BM,EAAUH,EAAMI,KAAKC,MAAMC,KAAK,SAACC,GAAI,OAAKA,IAASN,EAAYO,MAC/DC,EAAQT,EAAMI,KAAKM,QAAUT,EAAYO,IAEzCG,EAAuB,qBAAAC,OAAyBT,EAAU,2BAA4B,IACtFU,EAAyB,oBAAAD,OAAwBH,EAAQ,GAAK,yBAcpE,OACE3B,IAAAC,cAAA,WAASC,UAAU,UAAU8B,IAAKd,EAAMI,KAAKI,KAC3C1B,IAAAC,cAAA,OAAKC,UAAU,iBAAiBQ,IAAKQ,EAAMI,KAAKW,KAAMrB,IAAKM,EAAMI,KAAKV,IAAKJ,QAd/E,WACEU,EAAMgB,YAAYhB,EAAMI,SActBtB,IAAAC,cAAA,UAAQC,UAAW6B,EAA2BxB,KAAK,SAASC,QAXhE,WACEU,EAAMiB,aAAajB,EAAMI,SAWvBtB,IAAAC,cAAA,OAAKC,UAAU,wBACbF,IAAAC,cAAA,MAAIC,UAAU,iBAAiBgB,EAAMI,KAAKc,MAC1CpC,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,UAAQC,UAAW2B,EAAyBtB,KAAK,SAASC,QAXlE,WACEU,EAAMmB,WAAWnB,EAAMI,SAWjBtB,IAAAC,cAAA,KAAGC,UAAU,yBAAyBgB,EAAMI,KAAKC,MAAMe,YCWlDC,MAvCf,SAAcrB,GAEV,IAAMC,EAAcC,qBAAWL,GAE/B,OACIf,IAAAC,cAAA,QAAMC,UAAU,QACZF,IAAAC,cAAA,WAASC,UAAU,WACfF,IAAAC,cAAA,OAAKC,UAAU,sBACXF,IAAAC,cAAA,UAAQC,UAAU,sBAAsBK,KAAK,SAASC,QAASU,EAAMsB,eACrExC,IAAAC,cAAA,OAAKC,UAAU,kBAAkBQ,IAAKS,EAAYsB,OAAQ7B,IAAI,yCAC9DZ,IAAAC,cAAA,OAAKC,UAAU,iBACXF,IAAAC,cAAA,OAAKC,UAAU,iBACXF,IAAAC,cAAA,MAAIC,UAAU,iBAAiBiB,EAAYiB,MAC3CpC,IAAAC,cAAA,UAAQC,UAAU,oBAAoBK,KAAK,SAASC,QAASU,EAAMwB,iBAEvE1C,IAAAC,cAAA,KAAGC,UAAU,wBAAwBiB,EAAYwB,SAGzD3C,IAAAC,cAAA,UAAQC,UAAU,mBAAmBK,KAAK,SAASC,QAASU,EAAM0B,cAGtE5C,IAAAC,cAAA,WAASC,UAAU,YACdgB,EAAM2B,MAAMC,IAAI,SAACrB,GACd,OACIzB,IAAAC,cAACgB,EAAI,CACDK,KAAMG,EACNO,IAAKP,EAAKC,IACVQ,YAAahB,EAAMgB,YACnBG,WAAYnB,EAAMmB,WAClBF,aAAcjB,EAAMiB,oBCdjCY,MAjBf,SAAsBpD,GAAgE,IAA7DqD,EAAMrD,EAANqD,OAAQC,EAAOtD,EAAPsD,QAASb,EAAIzC,EAAJyC,KAAMc,EAAKvD,EAALuD,MAAOC,EAAOxD,EAAPwD,QAASC,EAAQzD,EAARyD,SAAUC,EAAQ1D,EAAR0D,SACtE,OACIrD,IAAAC,cAAA,OAAKC,UAAS,eAAA4B,OAAiBM,EAAI,KAAAN,OAAIkB,EAAS,eAAiB,MAE7DhD,IAAAC,cAAA,OAAKC,UAAU,oBACXF,IAAAC,cAAA,UAAQC,UAAU,mBAAmBK,KAAK,SAASC,QAASyC,IAC5DjD,IAAAC,cAAA,MAAIC,UAAU,eAAa,GAAA4B,OAAKoB,IAChClD,IAAAC,cAAA,QAAMC,UAAU,OAAOkC,KAAI,GAAAN,OAAKM,EAAI,SAASiB,SAAUA,GAClDD,EACDpD,IAAAC,cAAA,UAAQM,KAAK,SAASL,UAAU,qBAAmB,GAAA4B,OAAKqB,QCK7DG,MAdf,SAAoBpC,GAClB,OACElB,IAAAC,cAAA,OAAKC,UAAS,uBAAA4B,OAAyBZ,EAAM8B,OAAS,eAAiB,MACrEhD,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,UAAQC,UAAU,mBAAmBK,KAAK,SAASC,QAASU,EAAM+B,UAClEjD,IAAAC,cAAA,OAAKC,UAAU,wBACbF,IAAAC,cAAA,OAAKC,UAAU,mBAAmBQ,IAAG,GAAAoB,OAAKZ,EAAMI,KAAKW,MAAQrB,IAAG,GAAAkB,OAAKZ,EAAMI,KAAKV,OAChFZ,IAAAC,cAAA,MAAIC,UAAU,mBAAmBgB,EAAMI,KAAKc,UC4CvCmB,MAjDf,SAAyB5D,GAAoC,IAAjCqD,EAAMrD,EAANqD,OAAQC,EAAOtD,EAAPsD,QAASO,EAAY7D,EAAZ6D,aAAYC,EAE7BzD,IAAM0D,SAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAnCrB,EAAIuB,EAAA,GAAEE,EAAOF,EAAA,GAAAG,EACkB9D,IAAM0D,SAAS,IAAGK,EAAAH,YAAAE,EAAA,GAAjDE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAC5B5C,EAAcnB,IAAMoB,WAAWL,GA0BrC,OAxBAf,IAAMkE,UAAU,WACZL,EAAQ1C,EAAYiB,MACpB6B,EAAe9C,EAAYwB,QAC5B,CAACxB,EAAa6B,IAsBbhD,IAAAC,cAAC8C,EAAa,CACVG,MAAM,4HACNd,KAAK,OACLe,QAAQ,yDACRH,OAAQA,EACRC,QAASA,EACTI,SAlBR,SAAsBc,GAElBA,EAAEC,iBAGFZ,EAAa,CACTpB,OACAO,MAAOqB,MAaPhE,IAAAC,cAAA,SAAOM,KAAK,OAAO8D,GAAG,YAAYjC,KAAK,OACnClC,UAAU,oCAAoCoE,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,SA7BhG,SAAoBC,GAChBb,EAAQa,EAAIC,OAAOC,QA4B+FA,MAAOxC,GAAQ,KAC7HpC,IAAAC,cAAA,QAAMC,UAAU,uCAChBF,IAAAC,cAAA,SAAOM,KAAK,OAAO8D,GAAG,mBAAmBjC,KAAK,QAC1ClC,UAAU,2CAA2CsE,UAAQ,EAACF,UAAU,IAAIC,UAAU,MAAME,SA5BxG,SAA2BC,GACvBT,EAAeS,EAAIC,OAAOC,QA2BuGA,MAAOZ,GAAe,KACnJhE,IAAAC,cAAA,QAAMC,UAAU,gDCdb2E,MA/Bf,SAAwBlF,GAAsC,IAAnCqD,EAAMrD,EAANqD,OAAQC,EAAOtD,EAAPsD,QAAS6B,EAAcnF,EAAdmF,eAClCC,EAAY/E,IAAMgF,SAcxB,OAJAhF,IAAMkE,UAAU,WACZa,EAAUE,QAAQL,MAAQ,IAC3B,CAAC5B,IAGAhD,IAAAC,cAAC8C,EAAa,CACVG,MAAM,wFACNd,KAAK,aACLe,QAAQ,yDACRH,OAAQA,EACRC,QAASA,EACTI,SAnBR,SAAsBqB,GAClBA,EAAIN,iBAEJU,EAAe,CACXrC,OAAQsC,EAAUE,QAAQL,UAiB1B5E,IAAAC,cAAA,SAAOoE,GAAG,cAAcjC,KAAK,OAAOlC,UAAU,uCAC1CgF,YAAY,yFAAmB3E,KAAK,MAAM4E,IAAKJ,EAAWP,UAAQ,IACtExE,IAAAC,cAAA,QAAMC,UAAU,2CCuBbkF,MAjDf,SAAsBzF,GAAkC,IAA/BqD,EAAMrD,EAANqD,OAAQC,EAAOtD,EAAPsD,QAASL,EAAUjD,EAAViD,WAAUa,EACxBzD,IAAM0D,SAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAnCrB,EAAIuB,EAAA,GAAEE,EAAOF,EAAA,GAAAG,EACI9D,IAAM0D,SAAS,IAAGK,EAAAH,YAAAE,EAAA,GAAnC7B,EAAI8B,EAAA,GAAEsB,EAAOtB,EAAA,GAwBpB,OANA/D,IAAMkE,UAAU,WACZL,EAAQ,IACRwB,EAAQ,KACT,CAACrC,IAKAhD,IAAAC,cAAC8C,EAAa,CACVG,MAAM,gEACNd,KAAK,MACLe,QAAQ,6CACRH,OAAQA,EACRC,QAASA,EACTI,SAvBR,SAAsBqB,GAClBA,EAAIN,iBAEJxB,EAAW,CACPR,KAAMA,EACNH,KAAMA,MAoBNjC,IAAAC,cAAA,SAAOM,KAAK,OAAO8D,GAAG,aAAajC,KAAK,OAAOlC,UAAU,qCACrDgF,YAAY,mDAAWZ,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACI,MAAOxC,EAAMqC,SAjCtF,SAA8BC,GAC1Bb,EAAQa,EAAIC,OAAOC,UAiCf5E,IAAAC,cAAA,QAAMC,UAAU,wCAChBF,IAAAC,cAAA,SAAOM,KAAK,MAAM8D,GAAG,YAAYjC,KAAK,OAAOlC,UAAU,oCACnDgF,YAAY,qGAAqBV,UAAQ,EAACI,MAAO3C,EAAMwC,SAjCnE,SAA0BC,GACtBW,EAAQX,EAAIC,OAAOC,UAiCf5E,IAAAC,cAAA,QAAMC,UAAU,uDC2FfoF,EAAM,IAvIV,WACL,SAAAC,EAAA5F,GAA8B,IAAhB6F,EAAG7F,EAAH6F,IAAKC,EAAO9F,EAAP8F,QAAOC,YAAAC,KAAAJ,GACtBI,KAAKC,KAAOJ,EACZG,KAAKE,SAAWJ,EAgInB,OA/HAK,YAAAP,EAAA,EAAAvD,IAAA,WAAA4C,MAAA,SAEQmB,GACLJ,KAAKE,SAAW,CACZG,eAAgB,mBAChBC,cAAa,UAAAnE,OAAYiE,MAEhC,CAAA/D,IAAA,iBAAA4C,MAAA,SAEcsB,GACX,OAAIA,EAASC,GACFD,EAASE,QAEhBC,QAAQC,IAAI,wCACLC,QAAQC,OAAM,yCAAA1E,OAAYoE,EAASO,YAIlD,CAAAzE,IAAA,cAAA4C,MAAA,WAEI,IAAMmB,EAAQW,aAAaC,QAAQ,SACnC,OAAOC,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,aAAa,CAClCH,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,MAG9Bc,KAAKlB,KAAKmB,kBAGnB,CAAA9E,IAAA,kBAAA4C,MAAA,WAGI,IAAMmB,EAAQW,aAAaC,QAAQ,SACnC,OAAOC,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,UAAU,CAC/BH,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,MAG9Bc,KAAKlB,KAAKmB,kBAGnB,CAAA9E,IAAA,kBAAA4C,MAAA,SACgBmC,GACZ,IAAMhB,EAAQW,aAAaC,QAAQ,SACnC,OAAOC,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,aAAa,CAClCoB,OAAQ,QACRvB,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,IAE/BkB,KAAMC,KAAKC,UAAU,CACjB/E,KAAM2E,EAAK3E,KACXO,MAAOoE,EAAKpE,UAGfkE,KAAKlB,KAAKmB,kBAGnB,CAAA9E,IAAA,eAAA4C,MAAA,SAEamC,GACT,IAAMhB,EAAQW,aAAaC,QAAQ,SACnC,OAAOC,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,oBAAoB,CACzCoB,OAAQ,QACRvB,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,IAE/BkB,KAAMC,KAAKC,UAAUJ,KAEpBF,KAAKlB,KAAKmB,kBAGnB,CAAA9E,IAAA,aAAA4C,MAAA,SAEWmC,GACP,IAAMhB,EAAQW,aAAaC,QAAQ,SACnC,OAAOC,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,UAAU,CAC/BoB,OAAQ,OACRvB,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,IAE/BkB,KAAMC,KAAKC,UAAUJ,KAEpBF,KAAKlB,KAAKmB,kBAGnB,CAAA9E,IAAA,aAAA4C,MAAA,SAEWP,GACP,IAAM0B,EAAQW,aAAaC,QAAQ,SACnC,OAAOC,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,WAAA9D,OAAUuC,GAAM,CACrC2C,OAAQ,SACRvB,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,MAG9Bc,KAAKlB,KAAKmB,kBAGnB,CAAA9E,IAAA,iBAAA4C,MAAA,SAEeP,EAAIhD,GACf,IAAM0E,EAAQW,aAAaC,QAAQ,SACnC,OAAItF,EACOuF,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,WAAA9D,OAAUuC,EAAE,UAAU,CAC3C2C,OAAQ,SACRvB,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,MAG9Bc,KAAKlB,KAAKmB,gBAERF,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,WAAA9D,OAAUuC,EAAE,UAAU,CAC3C2C,OAAQ,MACRvB,QAAS,CACLO,eAAgB,mBAChBC,cAAe,UAAAnE,OAAYiE,MAG9Bc,KAAKlB,KAAKmB,oBAEtBvB,EAnII,GAuIU,CAAQ,CACvBC,IAAK,4CACLC,QAAS,CACLO,eAAgB,mBAChBoB,OAAU,sBC9HHC,MAVf,SAAuB1H,GAA2B,IAAxB2H,EAAU3H,EAAV2H,WAAYlE,EAAQzD,EAARyD,SAClC,OAAKkE,EAMElE,EAJCpD,IAAAC,cAACsH,IAAQ,CAAClH,GAAG,aCQVmH,MAZf,SAAoB7H,GAAuB,IAApB8H,EAAO9H,EAAP8H,QAASxE,EAAOtD,EAAPsD,QAC9B,OACEjD,IAAAC,cAAA,OAAKC,UAAW,UAAYuH,EAAU,eAAiB,KACrDzH,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,UAAQC,UAAU,mBAAmBK,KAAK,SAASC,QAASyC,IAC5DjD,IAAAC,cAAA,OAAKC,UAAW,sBAAwBuH,EAAWA,EAAQC,UAAY,8BAAgC,4BAA+B,MACtI1H,IAAAC,cAAA,MAAIC,UAAU,8BAA8BuH,EAAUA,EAAQE,KAAO,sBCuC9DC,EA3CD,SAAHjI,GAAoB,IAAdkI,EAAOlI,EAAPkI,QAAOpE,EACczD,IAAM0D,SAAS,CAC7C9D,MAAO,GACPkI,SAAU,KACZnE,EAAAC,YAAAH,EAAA,GAHKsE,EAASpE,EAAA,GAAEqE,EAAYrE,EAAA,GAKxBsE,EAAe,SAACvD,GAClB,IAAME,EAAQF,EAAIC,OAAOC,MACnBxC,EAAOsC,EAAIC,OAAOvC,KACxB4F,EAAYE,YAAA,GAAMH,EAASI,YAAA,GAAG/F,EAAOwC,MAQzC,OACI5E,IAAAC,cAAAD,IAAAM,SAAA,KACIN,IAAAC,cAACQ,EAAM,KACHT,IAAAC,cAACG,IAAI,CAACC,GAAG,WAAWH,UAAU,gBAAe,mCAEjDF,IAAAC,cAAA,QAAMC,UAAU,WACZF,IAAAC,cAAA,WAASC,UAAU,QACfF,IAAAC,cAAA,OAAKC,UAAU,mBACXF,IAAAC,cAAA,MAAIC,UAAU,eAAc,4BAC5BF,IAAAC,cAAA,QAAMC,UAAU,aAAamD,SAd5B,SAACqB,GAClBA,EAAIN,iBACJyD,EAAQE,KAaY/H,IAAAC,cAAA,SAAOC,UAAU,2BAA2BK,KAAK,QAAQ6B,KAAK,QAAQ8C,YAAY,QAAQZ,UAAU,IAAI8D,aAAa,MAAMxD,MAAOmD,EAAUnI,MAAO6E,SAAUwD,EAAczD,UAAQ,IACnLxE,IAAAC,cAAA,QAAMC,UAAU,iDAChBF,IAAAC,cAAA,SAAOC,UAAU,2BAA2BK,KAAK,WAAW6B,KAAK,WAAW8C,YAAY,uCAASZ,UAAU,IAAI8D,aAAa,MAAMxD,MAAOmD,EAAUD,SAAUrD,SAAUwD,EAAczD,UAAQ,IAC7LxE,IAAAC,cAAA,QAAMC,UAAU,iDAChBF,IAAAC,cAAA,UAAQM,KAAK,SAASL,UAAU,4CAA2C,wCCyBxFmI,EAxDE,SAAH1I,GAAuB,IAAjB2I,EAAU3I,EAAV2I,WAAU7E,EACMzD,IAAM0D,SAAS,CAC/C9D,MAAO,GACPkI,SAAU,GACVS,gBAAiB,KACjB5E,EAAAC,YAAAH,EAAA,GAJKsE,EAASpE,EAAA,GAAEqE,EAAYrE,EAAA,GAKxB6E,EAAWC,cAEXR,EAAe,SAACvD,GAAQ,IAAAgE,EACJhE,EAAIC,OAApBvC,EAAIsG,EAAJtG,KAAMwC,EAAK8D,EAAL9D,MACdoD,EAAYE,YAAA,GAAMH,EAASI,YAAA,GAAG/F,EAAOwC,MAGvCV,oBAAU,WACJwC,aAAaC,QAAQ,UACvB6B,EAAS,IAAK,CAAEG,SAAS,KAE1B,CAACH,IAOJ,OACExI,IAAAC,cAAAD,IAAAM,SAAA,KACEN,IAAAC,cAACQ,EAAM,KACLT,IAAAC,cAACG,IAAI,CAACC,GAAG,WAAWH,UAAU,gBAAe,uEAE/CF,IAAAC,cAAA,QAAMC,UAAU,QACdF,IAAAC,cAAA,WAASC,UAAU,QACjBF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,MAAIC,UAAU,eAAc,sEAC5BF,IAAAC,cAAA,QAAMC,UAAU,aAAamD,SAdlB,SAACqB,GACpBA,EAAIN,iBACJkE,EAAWP,KAaD/H,IAAAC,cAAA,SAAOC,UAAU,2BAA2BK,KAAK,QAAQ6B,KAAK,QAAQ8C,YAAY,QAAQZ,UAAU,IAAI8D,aAAa,MAAMxD,MAAOmD,EAAUnI,MAAO6E,SAAUwD,EAAczD,UAAQ,IACnLxE,IAAAC,cAAA,QAAMC,UAAU,iDAChBF,IAAAC,cAAA,SAAOC,UAAU,2BAA2BK,KAAK,WAAW6B,KAAK,WAAW8C,YAAY,uCAASZ,UAAU,IAAI8D,aAAa,MAAMxD,MAAOmD,EAAUD,SAAUrD,SAAUwD,EAAczD,UAAQ,IAC7LxE,IAAAC,cAAA,QAAMC,UAAU,iDAChBF,IAAAC,cAAA,UAAQM,KAAK,SAASL,UAAU,4CAA2C,gHAG3EF,IAAAC,cAAA,KAAGC,UAAU,cAAa,uHACF,IACtBF,IAAAC,cAACG,IAAI,CAACC,GAAG,WAAWH,UAAU,mBAAkB,yCCgBnD0I,EAAO,IA/DV,WACR,SAAAC,EAAYC,GAASpD,YAAAC,KAAAkD,GACnBlD,KAAKC,KAAOkD,EAAQtD,IA0DrB,OAzDAM,YAAA+C,EAAA,EAAA7G,IAAA,mBAAA4C,MAAA,SAEgBmE,GACf,OAAOA,EAAI3C,OACRS,KAAK,SAACkC,GACL,MAAM,IAAIC,MAAMD,EAAItB,aAEzB,CAAAzF,IAAA,WAAA4C,MAAA,SAAAjF,GAE6B,IAAAsJ,EAAAtD,KAAnB/F,EAAKD,EAALC,MAAOkI,EAAQnI,EAARmI,SAChB,OAAOlB,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,WAAW,CAClCoB,OAAQ,OACRvB,QAAS,CACP2B,OAAQ,mBACRpB,eAAgB,oBAElBiB,KAAMC,KAAKC,UAAU,CACnBvH,QACAkI,eAEDjB,KAAK,SAACX,GACP,OAAIA,EAASC,GAAWD,EAASE,OAC1B6C,EAAKC,iBAAiBhD,OAEhC,CAAAlE,IAAA,gBAAA4C,MAAA,SAAAuE,GAEkC,IAAAC,EAAAzD,KAAnB/F,EAAKuJ,EAALvJ,MAAOkI,EAAQqB,EAARrB,SACrB,OAAOlB,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,WAAW,CAClCoB,OAAQ,OACRvB,QAAS,CACP2B,OAAQ,mBACRpB,eAAgB,oBAElBiB,KAAMC,KAAKC,UAAU,CACnBvH,QACAkI,eAEDjB,KAAK,SAACX,GACP,OAAIA,EAASC,GAAWD,EAASE,OAC1BgD,EAAKF,iBAAiBhD,OAEhC,CAAAlE,IAAA,aAAA4C,MAAA,SAEUmB,GAAO,IAAAsD,EAAA1D,KAChB,OAAOiB,MAAK,GAAA9E,OAAI6D,KAAKC,KAAI,aAAa,CACpCoB,OAAQ,MACRvB,QAAS,CACP2B,OAAQ,mBACRkC,cAAa,UAAAxH,OAAYiE,GACzBC,eAAgB,sBAGjBa,KAAK,SAACX,GACL,OAAIA,EAASC,GAAWD,EAASE,OAC1BiD,EAAKH,iBAAiBhD,KAE9BW,KAAK,SAACE,GAAI,OAAKA,QACnB8B,EA5DO,GA+DU,CAAS,CAC3BrD,IAAK,8CC0LQ+D,MAvOf,WAAe,IAAA9F,EAE+CzD,IAAM0D,UAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA1E+F,EAAsB7F,EAAA,GAAE8F,EAAyB9F,EAAA,GAAAG,EACF9D,IAAM0D,UAAS,GAAMK,EAAAH,YAAAE,EAAA,GAApE4F,EAAmB3F,EAAA,GAAE4F,EAAsB5F,EAAA,GAAA6F,EACQ5J,IAAM0D,UAAS,GAAMmG,EAAAjG,YAAAgG,EAAA,GAAxEE,EAAqBD,EAAA,GAAEE,EAAwBF,EAAA,GAAAG,EACRhK,IAAM0D,UAAS,GAAMuG,EAAArG,YAAAoG,EAAA,GAA5DE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAAAG,EACFpK,IAAM0D,SAAS,CAAEtB,KAAM,GAAIH,KAAM,KAAKoI,EAAAzG,YAAAwG,EAAA,GAAvEE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAAAG,EACExK,IAAM0D,SAAS,IAAG+G,EAAA7G,YAAA4G,EAAA,GAAjDrJ,EAAWsJ,EAAA,GAAEC,EAAcD,EAAA,GAAAE,EACR3K,IAAM0D,SAAS,IAAGkH,EAAAhH,YAAA+G,EAAA,GAArC9H,EAAK+H,EAAA,GAAEC,EAAQD,EAAA,GAAAE,EACc9K,IAAM0D,UAAS,GAAMqH,EAAAnH,YAAAkH,EAAA,GAAlDxD,EAAUyD,EAAA,GAAEC,EAAaD,EAAA,GAAAE,EACNjL,IAAM0D,SAAS,IAAGwH,EAAAtH,YAAAqH,EAAA,GAArCrL,EAAKsL,EAAA,GAAEC,GAAQD,EAAA,GAAAE,GACgBpL,IAAM0D,SAAS,IAAG2H,GAAAzH,YAAAwH,GAAA,GAAjDE,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAC5B7C,GAAWC,cAEjBzI,IAAMkE,UAAU,WACdoD,GACEf,QAAQiF,IAAI,CAAClG,EAAImG,cAAenG,EAAIoG,oBACjC7E,KAAK,SAAAlH,GAA8B,IAAAwJ,EAAAvF,YAAAjE,EAAA,GAA5BgM,EAAQxC,EAAA,GAAEyC,EAAYzC,EAAA,GAC5BuB,EAAeiB,EAAS5E,MACxB8D,EAASe,KAEVC,MAAM,SAACC,GACNzF,QAAQ0F,MAAK,yCAAAjK,OAAYgK,OAE9B,CAACxE,IAoHJ,IAAM0E,GAAiB,WACrBvC,GAA0B,GAC1BE,GAAuB,GACvBI,GAAyB,GACzBI,GAAmB,GACnBoB,GAAe,MACfhB,EAAgB,CAAEnI,KAAM,GAAIH,KAAM,MAGpC,SAASgK,KACPjB,GAAc,GAGhB,SAASkB,KACPxF,aAAayF,WAAW,SACxBnB,GAAc,GAGhB,SAASoB,GAAsB3E,GAC7B8D,GAAe9D,GAiBjB,OAdAzH,IAAMkE,UAAU,WACd,IAAMmI,EAAM3F,aAAaC,QAAQ,SAC7B0F,GACFzD,EACG0D,WAAWD,GACXxF,KAAK,SAACkC,GACLoC,GAASpC,EAAIhC,KAAKnH,OAClB4I,GAAS,IAAK,CAAEG,SAAS,IACzBsD,OAEDJ,MAAM,SAACC,GAAG,OAAKzF,QAAQC,IAAIwF,MAE/B,CAACtD,KAGFxI,IAAAC,cAAA,OAAKC,UAAU,QACbF,IAAAC,cAACc,EAAmBwL,SAAQ,CAAC3H,MAAOzD,GAClCnB,IAAAC,cAAA,OAAKC,UAAU,QACbF,IAAAC,cAACuM,IAAM,KACLxM,IAAAC,cAACwM,IAAK,CACJC,KAAK,IACLC,QACE3M,IAAAC,cAACoH,EAAc,CAACC,WAAYA,GAC1BtH,IAAAC,cAACQ,EAAM,CAACyC,MAAM,iCAAQtD,MAAOA,EAAOC,SAAUqM,KAC9ClM,IAAAC,cAACsC,EAAI,CACHM,MAAOA,EACPH,cA7Ja,WAC7B+G,GAA0B,IA6JV7G,WA1JU,WAC1B+G,GAAuB,IA0JPnH,aAvJY,WAC5BuH,GAAyB,IAuJT7H,YArKM,SAACZ,GACvB6I,GAAmB,GACnBI,EAAgBjJ,IAoKAe,WA/GlB,SAAwBf,GACtB,IAAMD,EAAUC,EAAKC,MAAMC,KAAK,SAACoL,GAAC,OAAKA,IAAMzL,EAAYO,MACzD4D,EACGuH,eAAevL,EAAKI,IAAKL,GACzBwF,KAAK,SAACiG,GACLjC,EAAS,SAACkC,GAAK,OAAKA,EAAMjK,IAAI,SAACkK,GAAC,OAAMA,EAAEtL,MAAQJ,EAAKI,IAAMoL,EAAUE,QAEtEnB,MAAM,SAACC,GACNzF,QAAQ0F,MAAK,yCAAAjK,OAAYgK,OAwGb3J,aApGlB,SAA0Bb,GACxBgE,EACG2H,WAAW3L,EAAKI,KAChBmF,KAAK,WACJgE,EAAS,SAACkC,GAAK,OAAKA,EAAMG,OAAO,SAACN,GAAC,OAAKA,EAAElL,MAAQJ,EAAKI,UAExDmK,MAAM,SAACC,GACNzF,QAAQ0F,MAAK,yCAAAjK,OAAYgK,OA8FbjM,SAAUqM,GACVtM,MAAOA,IAETI,IAAAC,cAACY,EAAM,SAIbb,IAAAC,cAACwM,IAAK,CAACC,KAAK,WAAWC,QAAS3M,IAAAC,cAAC2H,EAAK,CAACC,QA5IjC,SAAHsF,GAA4B,IAAtBvN,EAAKuN,EAALvN,MAAOkI,EAAQqF,EAARrF,SACxBc,EACG3C,cAAc,CAAErG,QAAOkI,aACvBjB,KAAK,SAACE,GACDA,EAAKhB,QAEPW,aAAa0G,QAAQ,QAASrG,EAAKhB,OACnCT,EAAI+H,SAAStG,EAAKhB,OAClBkG,KACAzD,GAAS,IAAK,CAAEG,SAAS,OAG5BkD,MAAM,SAACC,GACNM,GAAsB,CACpBzE,KAAMmE,EAAIrE,SAAW,sMACrBC,WAAW,OA6HgD0E,sBAAuBA,GAAuBxM,MAAOA,MAC9GI,IAAAC,cAACwM,IAAK,CAACC,KAAK,WAAWC,QAAS3M,IAAAC,cAACoI,EAAQ,CAACC,WA/JjC,SAAHgF,GAA4B,IAAtB1N,EAAK0N,EAAL1N,MAAOkI,EAAQwF,EAARxF,SAC3Bc,EACG2E,SAAS,CAAE3N,QAAOkI,aAClBjB,KAAK,SAACkC,GACLqD,GAAsB,CACpBzE,KAAM,wKACND,WAAW,IAEbc,GAAS,WAAY,CAAEG,SAAS,MAEjCkD,MAAM,SAACC,GACNM,GAAsB,CACpBzE,KAAMmE,EAAIrE,SAAW,sMACrBC,WAAW,OAkJyD0E,sBAAuBA,OACzFpM,IAAAC,cAACwM,IAAK,CAACC,KAAK,IAAIC,QAASrF,EAAatH,IAAAC,cAACsH,IAAQ,CAAClH,GAAG,MAASL,IAAAC,cAACsH,IAAQ,CAAClH,GAAG,gBAG3EL,IAAAC,cAACsD,EAAgB,CAACP,OAAQwG,EAAwBvG,QAAS+I,GAAgBxI,aAtGnF,SAA0BmI,GACxBrG,EACGkI,gBAAgB7B,GAChB9E,KAAK,SAACE,GACL2D,EAAe3D,EAAKA,MACpBiF,OAEDH,MAAM,SAACC,GACNzF,QAAQ0F,MAAK,yCAAAjK,OAAYgK,SA+FvB9L,IAAAC,cAAC4E,EAAe,CAAC7B,OAAQ8G,EAAuB7G,QAAS+I,GAAgBlH,eA3FjF,SAA4B6G,GAC1BrG,EACGmI,aAAa9B,GACb9E,KAAK,SAAC8E,GACLjB,EAAeiB,EAAS5E,MACxBiF,OAEDH,MAAM,SAACC,GACNzF,QAAQ0F,MAAK,yCAAAjK,OAAYgK,SAoFvB9L,IAAAC,cAACmF,EAAa,CAACpC,OAAQ0G,EAAqBzG,QAAS+I,GAAgBpJ,WAhF7E,SAA8BkK,GAC5BxH,EACGoI,WAAWZ,GACXjG,KAAK,SAACiG,GACLjC,EAAQ,CAAEiC,GAAOhL,OAAA6L,YAAK9K,KACtBmJ,OAEDH,MAAM,SAACC,GACNzF,QAAQ0F,MAAK,yCAAAjK,OAAYgK,SAyEvB9L,IAAAC,cAAC8C,EAAa,CACZG,MAAM,2DACNd,KAAK,SACLe,QAAQ,iBAGVnD,IAAAC,cAACqD,EAAU,CACTN,OAAQkH,EACRjH,QAAS+I,GACT1K,KAAMgJ,IAERtK,IAAAC,cAACuH,EAAW,CACVC,QAAS6D,GACTrI,QAAS+I,SC3OR4B,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHhO,IAAAC,cAACgO,IAAa,KACZjO,IAAAC,cAACsJ,EAAG","file":"static/js/main.4020c3e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7baba3c1.svg\";","import { Link, useLocation } from 'react-router-dom';\nimport React from \"react\";\n\nfunction NavBar({ email, onLogout }) {\n  const location = useLocation();\n  function handleNavToggle() {\n    if (location.pathname === \"/sign-in\") {\n      return (\n        <Link to=\"/sign-up\" className=\"header__link\">Регистрация< /Link>\n      )\n    } else if\n      (location.pathname === \"/sign-up\") {\n      return (\n        <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n      )\n    } else {\n      return (\n        <>\n          <p className=\"header__email\">{email}</p>\n          <button type=\"button\" className=\"header__signout\" onClick={onLogout}>Выйти</button>\n        </>\n      )\n    }\n  }\n  return <div className=\"header__navbar\">{handleNavToggle()}</div>\n}\n\nexport default NavBar;","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport NavBar from \"./NavBar\";\n\nfunction Header({email, onLogout}) {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\" />\n      <NavBar email={email} onLogout={onLogout} />\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\"\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\" lang=\"en\">&copy; 2023 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = props.card.likes.some((item) => item === currentUser._id);\n  const isOwn = props.card.owner === currentUser._id;\n\n  const cardLikeButtonClassName = (`element__btn-like ${isLiked ? 'element__btn-like_active': ''}`);\n  const cardDeleteButtonClassName = (`element__btn-del ${isOwn ? \"\" : 'element__btn-del_none'}`);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleDeleteCard() {\n    props.onCardDelete(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  return (\n    <article className=\"element\" key={props.card._id} >\n      <img className=\"element__image\" src={props.card.link} alt={props.card.alt} onClick={handleClick} />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}></button>\n      <div className=\"element__description\">\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"element__like_counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;","import React, { useContext } from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n\n    const currentUser = useContext(CurrentUserContext);\n\n    return (\n        <main className=\"main\">\n            <section className=\"profile\">\n                <div className=\"profile__container\">\n                    <button className=\"profile__avatar-btn\" type=\"button\" onClick={props.onEditAvatar}></button>\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n                    <div className=\"profile__info\">\n                        <div className=\"profile__wrap\">\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\n                            <button className=\"profile__edit-btn\" type=\"button\" onClick={props.onEditProfile}></button>\n                        </div>\n                        <p className=\"profile__description\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"profile__add-btn\" type=\"button\" onClick={props.onAddPlace}></button>\n            </section>\n\n            <section className=\"elements\">\n                {props.cards.map((item) => {\n                    return (\n                        <Card\n                            card={item}\n                            key={item._id}\n                            onCardClick={props.onCardClick}\n                            onCardLike={props.onCardLike}\n                            onCardDelete={props.onCardDelete}\n                        />\n                    );\n                }\n                )}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction PopupWithForm({ isOpen, onClose, name, title, btnText, children, onSubmit }) {\n    return (\n        <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \" \"}`}>\n\n            <div className=\"popup__container\">\n                <button className=\"popup__btn-close\" type=\"button\" onClick={onClose}></button>\n                <h3 className=\"popup__name\">{`${title}`}</h3>\n                <form className=\"form\" name={`${name}_form`} onSubmit={onSubmit}>\n                    {children}\n                    <button type=\"submit\" className=\"popup__btn-submit\">{`${btnText}`}</button>\n                </form>\n            </div>\n        </div>\n\n    )\n}\n\nexport default PopupWithForm;","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_showimg ${props.isOpen ? \"popup_opened\" : \" \"}`}>\n      <div className=\"big-popup\">\n        <button className=\"popup__btn-close\" type=\"button\" onClick={props.onClose}></button>\n        <div className=\"big-popup__container\">\n          <img className=\"big-popup__image\" src={`${props.card.link}`} alt={`${props.card.alt}`} />\n          <h2 className=\"big-popup__name\">{props.card.name}</h2>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n\n    const [name, setName] = React.useState(\"\");\n    const [description, setDescription] = React.useState(\"\");\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    function handleName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            title=\"Редактировать профиль\"\n            name=\"edit\"\n            btnText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input type=\"text\" id=\"inputName\" name=\"name\"\n                className=\"popup__input popup__input_el_name\" minLength=\"2\" maxLength=\"40\" required onChange={handleName} value={name || \"\"} />\n            <span className=\"inputName-error popup__input-error\"></span>\n            <input type=\"text\" id=\"inputDescription\" name=\"about\"\n                className=\"popup__input popup__input_el_description\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescription} value={description || \"\"} />\n            <span className=\"inputDescription-error popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;\n\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    React.useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm\n            title=\"Обновить аватар\"\n            name=\"new-avatar\"\n            btnText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input id=\"inputAvatar\" name=\"link\" className=\"popup__input popup__input_avatar_src\"\n                placeholder=\"Ссылка на аватар\" type=\"url\" ref={avatarRef} required />\n            <span className=\"inputAvatar-error popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [name, setName] = React.useState(\"\");\n    const [link, setLink] = React.useState(\"\");\n\n    function handleChangeNameCard(evt) {\n        setName(evt.target.value);\n    }\n    function handleChangeLink(evt) {\n        setLink(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: name,\n            link: link,\n        });\n    }\n\n    React.useEffect(() => {\n        setName(\"\");\n        setLink(\"\");\n    }, [isOpen]);\n\n\n    return (\n\n        <PopupWithForm\n            title=\"Новое место\"\n            name=\"add\"\n            btnText=\"Создать\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input type=\"text\" id=\"inputTitle\" name=\"name\" className=\"popup__input popup__input_el_title\"\n                placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required value={name} onChange={handleChangeNameCard} />\n            <span className=\"inputTitle-error popup__input-error\"></span>\n            <input type=\"url\" id=\"inputLink\" name=\"link\" className=\"popup__input popup__input_el_link\"\n                placeholder=\"Ссылка на картинку\" required value={link} onChange={handleChangeLink} />\n            <span className=\"inputLink-error popup__input-error\"></span>\n\n        </PopupWithForm>\n\n    )\n\n}\n\nexport default AddPlacePopup;","class Api {\n    constructor({ url, headers }) {\n        this._url = url;\n        this._headers = headers;\n    }\n\n    setToken(token) {\n        this._headers = {\n            'Content-Type': 'application/json',\n            authorization: `Bearer ${token}`,\n        }\n    }\n\n    _checkResponse(response) {\n        if (response.ok) {\n            return response.json();\n        } else {\n            console.log('Ошибка');\n            return Promise.reject(`Ошибка: ${response.status}`);\n        }\n    }\n\n    // получение информации о пользователе\n    getUserInfo() {\n        const token = localStorage.getItem(\"token\");\n        return fetch(`${this._url}/users/me`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": `Bearer ${token}`,\n              },\n        })\n            .then(this._checkResponse);\n    }\n\n    // загрузка всех карточек\n\n    getInitialCards() {\n        const token = localStorage.getItem(\"token\");\n        return fetch(`${this._url}/cards`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": `Bearer ${token}`,\n              },\n        })\n            .then(this._checkResponse);\n    }\n\n    // редактирование профиля\n    editProfileInfo(data) {\n        const token = localStorage.getItem(\"token\");\n        return fetch(`${this._url}/users/me`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": `Bearer ${token}`,\n              },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about,\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    // поменять аватар\n\n    changeAvatar(data) {\n        const token = localStorage.getItem(\"token\");\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": `Bearer ${token}`,\n              },\n            body: JSON.stringify(data)\n        })\n            .then(this._checkResponse);\n    }\n\n    // добавление новой карточки\n\n    addNewCard(data) {\n        const token = localStorage.getItem(\"token\");\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": `Bearer ${token}`,\n              },\n            body: JSON.stringify(data)\n        })\n            .then(this._checkResponse);\n    }\n\n    // удаление созданной карточки\n\n    deleteCard(id) {\n        const token = localStorage.getItem(\"token\");\n        return fetch(`${this._url}/cards/${id}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authorization\": `Bearer ${token}`,\n              },\n        })\n            .then(this._checkResponse);\n    }\n\n    // изменить лайк\n\n    changeLikeCard(id, isLiked) {\n        const token = localStorage.getItem(\"token\");\n        if (isLiked) {\n            return fetch(`${this._url}/cards/${id}/likes`, {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"authorization\": `Bearer ${token}`,\n                  },\n            })\n                .then(this._checkResponse);\n        } else {\n            return fetch(`${this._url}/cards/${id}/likes`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"authorization\": `Bearer ${token}`,\n                  },\n            })\n                .then(this._checkResponse);\n        }\n    }\n\n}\n\nexport const api = new Api({\n    url: 'https://mesto-backend.nomoredomains.rocks',\n    headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n    },\n});","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nfunction ProtectedRoute({ isLoggedIn, children }) {\n    if (!isLoggedIn) {\n        return (\n            <Navigate to=\"/signin\" />\n        )\n\n    }\n    return children;\n}\n\nexport default ProtectedRoute;","import React from \"react\";\n\nfunction InfoToolTip({ message, onClose }) {\n  return (\n    <div className={\"popup \" + (message ? \"popup_opened\" : \"\")}>\n      <div className=\"popup__container\">\n        <button className=\"popup__btn-close\" type=\"button\" onClick={onClose} />\n        <div className={\"popup__infotooltip\" + (message ? (message.isSuccess ? \" popup__infotooltip_success\" : \" popup__infotooltip_error\") : \"\")} />\n        <h2 className=\"popup__infotooltip_message\">{message ? message.text : \"\"}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { Link } from 'react-router-dom';\n\nconst Login = ({ onLogin }) => {\n    const [formValue, setFormValue] = React.useState({\n        email: \"\",\n        password: \"\",\n    });\n\n    const handleChange = (evt) => {\n        const value = evt.target.value;\n        const name = evt.target.name;\n        setFormValue({ ...formValue, [name]: value });\n    };\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        onLogin(formValue);\n    };\n\n    return (\n        <>\n            <Header>\n                <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n            </Header>\n            <main className=\"content\">\n                <section className=\"auth\">\n                    <div className=\"auth__container\">\n                        <h2 className=\"auth__title\">Вход</h2>\n                        <form className=\"auth__form\" onSubmit={handleSubmit}>\n                            <input className=\"popup__input auth__input\" type=\"email\" name=\"email\" placeholder=\"Email\" minLength=\"2\" autoComplete=\"off\" value={formValue.email} onChange={handleChange} required />\n                            <span className=\"popup__input-error popup__input-error_active\"></span>\n                            <input className=\"popup__input auth__input\" type=\"password\" name=\"password\" placeholder=\"Пароль\" minLength=\"2\" autoComplete=\"off\" value={formValue.password} onChange={handleChange} required />\n                            <span className=\"popup__input-error popup__input-error_active\"></span>\n                            <button type=\"submit\" className=\"popup__btn-submit popup__btn-submit_auth\">\n                                Войти\n                            </button>\n                        </form>\n                    </div>\n                </section>\n            </main>\n        </>\n    )\n\n};\n\nexport default Login;","import React, { useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Header from './Header.js';\n\nconst Register = ({ onRegister }) => {\n  const [formValue, setFormValue] = React.useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const navigate = useNavigate();\n\n  const handleChange = (evt) => {\n    const { name, value } = evt.target;\n    setFormValue({ ...formValue, [name]: value });\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      navigate(\"/\", { replace: true })\n    }\n  }, [navigate]);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onRegister(formValue);\n  }\n\n  return (\n    <>\n      <Header>\n        <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n      </Header>\n      <main className=\"page\">\n        <section className=\"auth\">\n          <div className=\"auth__container\">\n            <h2 className=\"auth__title\">Регистрация</h2>\n            <form className=\"auth__form\" onSubmit={handleSubmit}>\n              <input className=\"popup__input auth__input\" type=\"email\" name=\"email\" placeholder=\"Email\" minLength=\"2\" autoComplete=\"off\" value={formValue.email} onChange={handleChange} required />\n              <span className=\"popup__input-error popup__input-error_active\"></span>\n              <input className=\"popup__input auth__input\" type=\"password\" name=\"password\" placeholder=\"Пароль\" minLength=\"2\" autoComplete=\"off\" value={formValue.password} onChange={handleChange} required />\n              <span className=\"popup__input-error popup__input-error_active\"></span>\n              <button type=\"submit\" className=\"popup__btn-submit popup__btn-submit_auth\">\n                Зарегистрироваться\n              </button>\n              <p className=\"auth__text\">\n                Уже зарегистрированы?{\" \"}\n                <Link to=\"/sign-in\" className=\"auth__text_link\">\n                  Войти\n                </Link>\n              </p>\n            </form>\n          </div>\n        </section>\n      </main>\n    </>\n  );\n\n}\n\nexport default Register;","class Auth {\n  constructor(options) {\n    this._url = options.url;\n  }\n\n  _getResponseData(res) {\n    return res.json()\n      .then((res) => {\n        throw new Error(res.message);\n      });\n  }\n\n  register({ email, password }) {\n    return fetch(`${this._url}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then((response) => {\n      if (response.ok) return response.json();\n      return this._getResponseData(response);\n    });\n  }\n\n  authorization({ email, password }) {\n    return fetch(`${this._url}/signin`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then((response) => {\n      if (response.ok) return response.json();\n      return this._getResponseData(response);\n    });\n  }\n\n  getContent(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        if (response.ok) return response.json();\n        return this._getResponseData(response);\n      })\n      .then((data) => data);\n  }\n}\n\nexport const auth = new Auth({\n  url: 'https://mesto-backend.nomoredomains.rocks',\n});\n","import '../index.css';\nimport React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoToolTip from './InfoToolTip';\nimport Login from './Login';\nimport Register from './Register';\nimport { auth } from '../utils/auth';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isCardPopupOpen, setIsCardPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n  const [infoMessage, setInfoMessage] = React.useState(\"\");\n  const navigate = useNavigate();\n\n  React.useEffect(() => {\n    isLoggedIn &&\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([userData, initialCards]) => {\n          setCurrentUser(userData.data);\n          setCards(initialCards);\n        })\n        .catch((err) => {\n          console.error(`Ошибка: ${err}`);\n        });\n  }, [isLoggedIn]);\n\n  const handleCardClick = (card) => {\n    setIsCardPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const onRegister = ({ email, password }) => {\n    auth\n      .register({ email, password })\n      .then((res) => {\n        handleShowInfoMessage({\n          text: \"Вы успешно зарегистрировались!\",\n          isSuccess: true,\n        });\n        navigate(\"/sign-in\", { replace: true });\n      })\n      .catch((err) => {\n        handleShowInfoMessage({\n          text: err.message || \"Что-то пошло не так! Попробуйте еще раз.\",\n          isSuccess: false,\n        });\n      });\n  };\n\n  const onLogin = ({ email, password }) => {\n    auth\n      .authorization({ email, password })\n      .then((data) => {\n        if (data.token) \n        {\n          localStorage.setItem(\"token\", data.token);\n          api.setToken(data.token);\n          handleLogin();\n          navigate(\"/\", { replace: true });\n        }\n      })\n      .catch((err) => {\n        handleShowInfoMessage({\n          text: err.message || \"Что-то пошло не так! Попробуйте еще раз.\",\n          isSuccess: false,\n        });\n      });\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    api\n      .changeLikeCard(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((i) => i._id !== card._id));\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateUser(userData) {\n    api\n      .editProfileInfo(userData)\n      .then((data) => {\n        setCurrentUser(data.data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      })\n  }\n\n  function handleUpdateAvatar(userData) {\n    api\n      .changeAvatar(userData)\n      .then((userData) => {\n        setCurrentUser(userData.data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      });\n  };\n\n  function handleAddPlaceSubmit(newCard) {\n    api\n      .addNewCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      })\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsCardPopupOpen(false);\n    setInfoMessage(null);\n    setSelectedCard({ name: '', link: '' })\n  };\n\n  function handleLogin() {\n    setIsLoggedIn(true);\n  }\n\n  function handleLogout() {\n    localStorage.removeItem(\"token\");\n    setIsLoggedIn(false);\n  }\n\n  function handleShowInfoMessage(message) {\n    setInfoMessage(message);\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem(\"token\");\n    if (jwt) {\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          setEmail(res.data.email);\n          navigate(\"/\", { replace: true });\n          handleLogin();\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [navigate]);\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Routes>\n            <Route\n              path=\"/\"\n              element={\n                <ProtectedRoute isLoggedIn={isLoggedIn}>\n                  <Header title=\"Выйти\" email={email} onLogout={handleLogout} />\n                  <Main\n                    cards={cards}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                    onLogout={handleLogout}\n                    email={email}\n                  />\n                  <Footer />\n                </ProtectedRoute>\n              }\n            />\n            <Route path=\"/sign-in\" element={<Login onLogin={onLogin} handleShowInfoMessage={handleShowInfoMessage} email={email} />} />\n            <Route path=\"/sign-up\" element={<Register onRegister={onRegister} handleShowInfoMessage={handleShowInfoMessage} />} />\n            <Route path=\"*\" element={isLoggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />} />\n          </Routes>\n\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <PopupWithForm\n            title=\"Вы уверены?\"\n            name=\"submit\"\n            btnText=\"Да\"\n          >\n          </PopupWithForm>\n          <ImagePopup\n            isOpen={isCardPopupOpen}\n            onClose={closeAllPopups}\n            card={selectedCard}\n          />\n          <InfoToolTip\n            message={infoMessage}\n            onClose={closeAllPopups}\n          />\n        </div>\n\n      </CurrentUserContext.Provider >\n    </div >\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n);"],"sourceRoot":""}