{"version":3,"sources":["images/logo.svg","components/NavBar.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/ProtectedRoute.js","components/InfoToolTip.js","components/Login.js","components/Register.js","utils/auth.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","NavBar","_ref","email","onLogout","location","useLocation","React","createElement","className","pathname","Link","to","Fragment","type","onClick","Header","src","logo","alt","Footer","lang","CurrentUserContext","createContext","Card","props","currentUser","useContext","isLiked","card","likes","some","i","_id","isOwn","owner","cardLikeButtonClassName","concat","cardDeleteButtonClassName","key","link","onCardClick","onCardDelete","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","PopupWithForm","isOpen","onClose","title","btnText","children","onSubmit","ImagePopup","EditProfilePopup","onUpdateUser","_React$useState","useState","_React$useState2","_slicedToArray","setName","_React$useState3","_React$useState4","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","required","onChange","evt","target","value","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","setLink","api","Api","url","headers","_classCallCheck","this","_url","_headers","_createClass","token","Content-Type","authorization","response","ok","json","console","log","Promise","reject","status","fetch","localStorage","getItem","then","_checkResponse","data","method","body","JSON","stringify","Accept","ProtectedRoute","isLoggedIn","Navigate","InfoToolTip","message","isSuccess","text","Login","onLogin","password","formValue","setFormValue","handleChange","_objectSpread","_defineProperty","autoComplete","Register","onRegister","confirmPassword","navigate","useNavigate","_evt$target","replace","auth","Auth","options","res","Error","_this","_getResponseData","_ref2","_this2","_this3","Authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_React$useState5","_React$useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_React$useState7","_React$useState8","isCardPopupOpen","setIsCardPopupOpen","_React$useState9","_React$useState10","selectedCard","setSelectedCard","_React$useState11","_React$useState12","setCurrentUser","_React$useState13","_React$useState14","setCards","_React$useState15","_React$useState16","setIsLoggedIn","_React$useState17","_React$useState18","setEmail","_React$useState19","_React$useState20","infoMessage","setInfoMessage","all","getUserInfo","getInitialCards","userData","initialCards","catch","err","error","closeAllPopups","handleLogin","handleLogout","removeItem","handleShowInfoMessage","jwt","getContent","Provider","Routes","Route","path","element","changeLikeCard","newCard","state","c","deleteCard","filter","_ref4","setItem","setToken","_ref3","register","editProfileInfo","changeAvatar","addNewCard","_toConsumableArray","ReactDOM","createRoot","document","getElementById","render","BrowserRouter"],"mappings":"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","file":"static/js/main.fd3a30a4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7baba3c1.svg\";","import { Link, useLocation } from 'react-router-dom';\nimport React from \"react\";\n\nfunction NavBar({ email, onLogout }) {\n  const location = useLocation();\n  function handleNavToggle() {\n    if (location.pathname === \"/sign-in\") {\n      return (\n        <Link to=\"/sign-up\" className=\"header__link\">Регистрация< /Link>\n      )\n    } else if\n      (location.pathname === \"/sign-up\") {\n      return (\n        <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n      )\n    } else {\n      return (\n        <>\n          <p className=\"header__email\">{email}</p>\n          <button type=\"button\" className=\"header__signout\" onClick={onLogout}>Выйти</button>\n        </>\n      )\n    }\n  }\n  return <div className=\"header__navbar\">{handleNavToggle()}</div>\n}\n\nexport default NavBar;","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport NavBar from \"./NavBar\";\n\nfunction Header({email, onLogout}) {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\" />\n      <NavBar email={email} onLogout={onLogout} />\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\"\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\" lang=\"en\">&copy; 2023 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const cardLikeButtonClassName = (`element__btn-like ${isLiked && 'element__btn-like_active'}`);\n  const cardDeleteButtonClassName = (`element__btn-del ${isOwn ? \"\" : 'element__btn-del_none'}`);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleDeleteCard() {\n    props.onCardDelete(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  return (\n    <article className=\"element\" key={props.card._id} >\n      <img className=\"element__image\" src={props.card.link} alt={props.card.alt} onClick={handleClick} />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}></button>\n      <div className=\"element__description\">\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"element__like_counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;","import React, { useContext } from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n\n    const currentUser = useContext(CurrentUserContext);\n\n    return (\n        <main className=\"main\">\n            <section className=\"profile\">\n                <div className=\"profile__container\">\n                    <button className=\"profile__avatar-btn\" type=\"button\" onClick={props.onEditAvatar}></button>\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n                    <div className=\"profile__info\">\n                        <div className=\"profile__wrap\">\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\n                            <button className=\"profile__edit-btn\" type=\"button\" onClick={props.onEditProfile}></button>\n                        </div>\n                        <p className=\"profile__description\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"profile__add-btn\" type=\"button\" onClick={props.onAddPlace}></button>\n            </section>\n\n            <section className=\"elements\">\n                {props.cards.map((item) => {\n                    return (\n                        <Card\n                            card={item}\n                            key={item._id}\n                            onCardClick={props.onCardClick}\n                            onCardLike={props.onCardLike}\n                            onCardDelete={props.onCardDelete}\n                        />\n                    );\n                }\n                )}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction PopupWithForm({ isOpen, onClose, name, title, btnText, children, onSubmit }) {\n    return (\n        <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \" \"}`}>\n\n            <div className=\"popup__container\">\n                <button className=\"popup__btn-close\" type=\"button\" onClick={onClose}></button>\n                <h3 className=\"popup__name\">{`${title}`}</h3>\n                <form className=\"form\" name={`${name}_form`} onSubmit={onSubmit}>\n                    {children}\n                    <button type=\"submit\" className=\"popup__btn-submit\">{`${btnText}`}</button>\n                </form>\n            </div>\n        </div>\n\n    )\n}\n\nexport default PopupWithForm;","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_showimg ${props.isOpen ? \"popup_opened\" : \" \"}`}>\n      <div className=\"big-popup\">\n        <button className=\"popup__btn-close\" type=\"button\" onClick={props.onClose}></button>\n        <div className=\"big-popup__container\">\n          <img className=\"big-popup__image\" src={`${props.card.link}`} alt={`${props.card.alt}`} />\n          <h2 className=\"big-popup__name\">{props.card.name}</h2>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n\n    const [name, setName] = React.useState(\"\");\n    const [description, setDescription] = React.useState(\"\");\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    function handleName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            title=\"Редактировать профиль\"\n            name=\"edit\"\n            btnText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input type=\"text\" id=\"inputName\" name=\"name\"\n                className=\"popup__input popup__input_el_name\" minLength=\"2\" maxLength=\"40\" required onChange={handleName} value={name || \"\"} />\n            <span className=\"inputName-error popup__input-error\"></span>\n            <input type=\"text\" id=\"inputDescription\" name=\"about\"\n                className=\"popup__input popup__input_el_description\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescription} value={description || \"\"} />\n            <span className=\"inputDescription-error popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;\n\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    React.useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm\n            title=\"Обновить аватар\"\n            name=\"new-avatar\"\n            btnText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input id=\"inputAvatar\" name=\"link\" className=\"popup__input popup__input_avatar_src\"\n                placeholder=\"Ссылка на аватар\" type=\"url\" ref={avatarRef} required />\n            <span className=\"inputAvatar-error popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [name, setName] = React.useState(\"\");\n    const [link, setLink] = React.useState(\"\");\n\n    function handleChangeNameCard(evt) {\n        setName(evt.target.value);\n    }\n    function handleChangeLink(evt) {\n        setLink(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: name,\n            link: link,\n        });\n    }\n\n    React.useEffect(() => {\n        setName(\"\");\n        setLink(\"\");\n    }, [isOpen]);\n\n\n    return (\n\n        <PopupWithForm\n            title=\"Новое место\"\n            name=\"add\"\n            btnText=\"Создать\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input type=\"text\" id=\"inputTitle\" name=\"name\" className=\"popup__input popup__input_el_title\"\n                placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required value={name} onChange={handleChangeNameCard} />\n            <span className=\"inputTitle-error popup__input-error\"></span>\n            <input type=\"url\" id=\"inputLink\" name=\"link\" className=\"popup__input popup__input_el_link\"\n                placeholder=\"Ссылка на картинку\" required value={link} onChange={handleChangeLink} />\n            <span className=\"inputLink-error popup__input-error\"></span>\n\n        </PopupWithForm>\n\n    )\n\n}\n\nexport default AddPlacePopup;","class Api {\n    constructor({ url, headers }) {\n        this._url = url;\n        this._headers = headers;\n    }\n\n    setToken(token) {\n        this._headers = {\n            'Content-Type': 'application/json',\n            authorization: `Bearer ${token}`,\n        }\n    }\n\n    _checkResponse(response) {\n        if (response.ok) {\n            return response.json();\n        } else {\n            console.log('Ошибка');\n            return Promise.reject(`Ошибка: ${response.status}`);\n        }\n    }\n\n    // получение информации о пользователе\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n        })\n            .then(this._checkResponse);\n    }\n\n    // загрузка всех карточек\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n        })\n            .then(this._checkResponse);\n    }\n\n    // редактирование профиля\n    editProfileInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about,\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    // поменять аватар\n\n    changeAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n            body: JSON.stringify(data)\n        })\n            .then(this._checkResponse);\n    }\n\n    // добавление новой карточки\n\n    addNewCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n            body: JSON.stringify(data)\n        })\n            .then(this._checkResponse);\n    }\n\n    // удаление созданной карточки\n\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n        })\n            .then(this._checkResponse);\n    }\n\n    // изменить лайк\n\n    changeLikeCard(id, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._url}/cards/${id}/likes`, {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  },\n            })\n                .then(this._checkResponse);\n        } else {\n            return fetch(`${this._url}/cards/${id}/likes`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  },\n            })\n                .then(this._checkResponse);\n        }\n    }\n\n}\n\n\n// export const api = new Api({\n//     url: 'http://localhost:3000',\n//     headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Accept\": \"application/json\",\n//     },\n// });\n\nexport const api = new Api({\n    url: 'https://mesto-backend.nomoredomains.rocks',\n    headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n    },\n});","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nfunction ProtectedRoute({ isLoggedIn, children }) {\n    if (!isLoggedIn) {\n        return (\n            <Navigate to=\"/signin\" />\n        )\n\n    }\n    return children;\n}\n\nexport default ProtectedRoute;","import React from \"react\";\n\nfunction InfoToolTip({ message, onClose }) {\n  return (\n    <div className={\"popup \" + (message ? \"popup_opened\" : \"\")}>\n      <div className=\"popup__container\">\n        <button className=\"popup__btn-close\" type=\"button\" onClick={onClose} />\n        <div className={\"popup__infotooltip\" + (message ? (message.isSuccess ? \" popup__infotooltip_success\" : \" popup__infotooltip_error\") : \"\")} />\n        <h2 className=\"popup__infotooltip_message\">{message ? message.text : \"\"}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { Link } from 'react-router-dom';\n\nconst Login = ({ onLogin }) => {\n    const [formValue, setFormValue] = React.useState({\n        email: \"\",\n        password: \"\",\n    });\n\n    const handleChange = (evt) => {\n        const value = evt.target.value;\n        const name = evt.target.name;\n        setFormValue({ ...formValue, [name]: value });\n    };\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        onLogin(formValue);\n    };\n\n    return (\n        <>\n            <Header>\n                <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n            </Header>\n            <main className=\"content\">\n                <section className=\"auth\">\n                    <div className=\"auth__container\">\n                        <h2 className=\"auth__title\">Вход</h2>\n                        <form className=\"auth__form\" onSubmit={handleSubmit}>\n                            <input className=\"popup__input auth__input\" type=\"email\" name=\"email\" placeholder=\"Email\" minLength=\"2\" autoComplete=\"off\" value={formValue.email} onChange={handleChange} required />\n                            <span className=\"popup__input-error popup__input-error_active\"></span>\n                            <input className=\"popup__input auth__input\" type=\"password\" name=\"password\" placeholder=\"Пароль\" minLength=\"2\" autoComplete=\"off\" value={formValue.password} onChange={handleChange} required />\n                            <span className=\"popup__input-error popup__input-error_active\"></span>\n                            <button type=\"submit\" className=\"popup__btn-submit popup__btn-submit_auth\">\n                                Войти\n                            </button>\n                        </form>\n                    </div>\n                </section>\n            </main>\n        </>\n    )\n\n};\n\nexport default Login;","import React, { useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Header from './Header.js';\n\nconst Register = ({ onRegister }) => {\n  const [formValue, setFormValue] = React.useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const navigate = useNavigate();\n\n  const handleChange = (evt) => {\n    const { name, value } = evt.target;\n    setFormValue({ ...formValue, [name]: value });\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      navigate(\"/\", { replace: true })\n    }\n  }, [navigate]);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onRegister(formValue);\n  }\n\n  return (\n    <>\n      <Header>\n        <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n      </Header>\n      <main className=\"page\">\n        <section className=\"auth\">\n          <div className=\"auth__container\">\n            <h2 className=\"auth__title\">Регистрация</h2>\n            <form className=\"auth__form\" onSubmit={handleSubmit}>\n              <input className=\"popup__input auth__input\" type=\"email\" name=\"email\" placeholder=\"Email\" minLength=\"2\" autoComplete=\"off\" value={formValue.email} onChange={handleChange} required />\n              <span className=\"popup__input-error popup__input-error_active\"></span>\n              <input className=\"popup__input auth__input\" type=\"password\" name=\"password\" placeholder=\"Пароль\" minLength=\"2\" autoComplete=\"off\" value={formValue.password} onChange={handleChange} required />\n              <span className=\"popup__input-error popup__input-error_active\"></span>\n              <button type=\"submit\" className=\"popup__btn-submit popup__btn-submit_auth\">\n                Зарегистрироваться\n              </button>\n              <p className=\"auth__text\">\n                Уже зарегистрированы?{\" \"}\n                <Link to=\"/sign-in\" className=\"auth__text_link\">\n                  Войти\n                </Link>\n              </p>\n            </form>\n          </div>\n        </section>\n      </main>\n    </>\n  );\n\n}\n\nexport default Register;","class Auth {\n  constructor(options) {\n    this._url = options.url;\n  }\n\n  _getResponseData(res) {\n    return res.json()\n      .then((res) => {\n        throw new Error(res.message);\n      });\n  }\n\n  register({ email, password }) {\n    return fetch(`${this._url}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then((response) => {\n      if (response.ok) return response.json();\n      return this._getResponseData(response);\n    });\n  }\n\n  authorization({ email, password }) {\n    return fetch(`${this._url}/signin`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then((response) => {\n      if (response.ok) return response.json();\n      return this._getResponseData(response);\n    });\n  }\n\n  getContent(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        if (response.ok) return response.json();\n        return this._getResponseData(response);\n      })\n      .then((data) => data);\n  }\n}\n\n// export const auth = new Auth({\n//   url: 'http://localhost:3000',\n// });\n\nexport const auth = new Auth({\n  url: 'https://mesto-backend.nomoredomains.rocks',\n});\n","import '../index.css';\nimport React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoToolTip from './InfoToolTip';\nimport Login from './Login';\nimport Register from './Register';\nimport { auth } from '../utils/auth';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isCardPopupOpen, setIsCardPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n  const [infoMessage, setInfoMessage] = React.useState(\"\");\n  const navigate = useNavigate();\n\n  React.useEffect(() => {\n    isLoggedIn &&\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([userData, initialCards]) => {\n          console.log(userData);\n          setCurrentUser(userData.data);\n          setCards(initialCards);\n        })\n        .catch((err) => {\n          console.error(`Ошибка: ${err}`);\n        });\n  }, [isLoggedIn]);\n\n  const handleCardClick = (card) => {\n    setIsCardPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const onRegister = ({ email, password }) => {\n    auth\n      .register({ email, password })\n      .then((res) => {\n        handleShowInfoMessage({\n          text: \"Вы успешно зарегистрировались!\",\n          isSuccess: true,\n        });\n        navigate(\"/sign-in\", { replace: true });\n      })\n      .catch((err) => {\n        handleShowInfoMessage({\n          text: err.message || \"Что-то пошло не так! Попробуйте еще раз.\",\n          isSuccess: false,\n        });\n      });\n  };\n\n  const onLogin = ({ email, password }) => {\n    auth\n      .authorization({ email, password })\n      .then((data) => {\n        if (data.token) localStorage.setItem(\"token\", data.token);\n          api.setToken(data.token);\n          handleLogin();\n          navigate(\"/\", { replace: true });\n      })\n      .catch((err) => {\n        handleShowInfoMessage({\n          text: err.message || \"Что-то пошло не так! Попробуйте еще раз.\",\n          isSuccess: false,\n        });\n      });\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCard(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((i) => i._id !== card._id));\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateUser(userData) {\n    api\n      .editProfileInfo(userData)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      })\n  }\n\n  function handleUpdateAvatar(userData) {\n    api\n      .changeAvatar(userData)\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      });\n  };\n\n  function handleAddPlaceSubmit(newCard) {\n    api\n      .addNewCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Ошибка: ${err}`);\n      })\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsCardPopupOpen(false);\n    setInfoMessage(null);\n    setSelectedCard({ name: '', link: '' })\n  };\n\n  function handleLogin() {\n    setIsLoggedIn(true);\n  }\n\n  function handleLogout() {\n    localStorage.removeItem(\"token\");\n    setIsLoggedIn(false);\n  }\n\n  function handleShowInfoMessage(message) {\n    setInfoMessage(message);\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem(\"token\");\n    if (jwt) {\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          setEmail(res.data.email);\n          navigate(\"/\", { replace: true });\n          handleLogin();\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [navigate]);\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Routes>\n            <Route\n              path=\"/\"\n              element={\n                <ProtectedRoute isLoggedIn={isLoggedIn}>\n                  <Header title=\"Выйти\" email={email} onLogout={handleLogout} />\n                  <Main\n                    cards={cards}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                    onLogout={handleLogout}\n                    email={email}\n                  />\n                  <Footer />\n                </ProtectedRoute>\n              }\n            />\n            <Route path=\"/sign-in\" element={<Login onLogin={onLogin} handleShowInfoMessage={handleShowInfoMessage} email={email} />} />\n            <Route path=\"/sign-up\" element={<Register onRegister={onRegister} handleShowInfoMessage={handleShowInfoMessage} />} />\n            <Route path=\"*\" element={isLoggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />} />\n          </Routes>\n\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <PopupWithForm\n            title=\"Вы уверены?\"\n            name=\"submit\"\n            btnText=\"Да\"\n          >\n          </PopupWithForm>\n          <ImagePopup\n            isOpen={isCardPopupOpen}\n            onClose={closeAllPopups}\n            card={selectedCard}\n          />\n          <InfoToolTip\n            message={infoMessage}\n            onClose={closeAllPopups}\n          />\n        </div>\n\n      </CurrentUserContext.Provider >\n    </div >\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n);"],"sourceRoot":""}